<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Title</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="profile.css">
  </head>
  <body>
    <main>
      Main Area
      <section id="sub">
        Sub Area
      </section>
    </main>
  </body>
</html>

<style>
  main, #sub {
    padding: 15px;
  }

  main {
    width: 100%;
    height: 200px;
    background: blue;
    color: white;
  }

  #sub {
    position: relative;
    top: 100px;
    left: 15px;
    background: red;
    height: 50px;
    width: 50%;
  }
</style>

<!-- let divRed = document.querySelector('#red');
let divBlue = document.querySelector('#blue');
let divGreen = document.querySelector('#green');
let divOrange = document.querySelector('#orange');

divRed.addEventListener('click', track(event => {
  document.body.style.background = 'red';
}));

divBlue.addEventListener('click', track(event => {
  event.stopPropagation();
  document.body.style.background = 'blue';
}));

divOrange.addEventListener('click', track(event => {
  document.body.style.background = 'orange';
}));

divGreen.addEventListener('click', track(event => {
  document.body.style.background = 'green';
}));

// create 'tracker' object
let tracker = (() => {
  let eventObjects = [];
  let elements = [];

  return {
    add(event) {
      if (!eventObjects.includes(event)) {
        eventObjects.push(event);
      }
    },

    list() {
      return eventObjects.slice(0);
    },

    elements() {
      return eventObjects.map(event => {
        return event.target;
      });
    },

    clear() {
      eventObjects = [];
      return eventObjects.length;
    }
  }
})();

// track function (takes a callback)
// function that tracks event on page

function track(callback) {
  // function adds event to 'tracker' object 
  // function then invokes callback and passes in event object
  return function(event) {
    tracker.add(event);
    callback(event); 
  }
}

// divRed.addEventListener('click', track(event => {  // invoking 'track with a callback'
//   document.body.style.background = 'red';
// }));

// return value of 'track' is what is passed to 'addEventListener' as second argument
// addEventListener needs a function object  -->